var T=Object.defineProperty;var m=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var g=(e,t,a)=>t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,c=(e,t)=>{for(var a in t||(t={}))y.call(t,a)&&g(e,a,t[a]);if(m)for(var a of m(t))P.call(t,a)&&g(e,a,t[a]);return e};var p=(e,t,a)=>new Promise((o,s)=>{var i=l=>{try{n(a.next(l))}catch(_){s(_)}},u=l=>{try{n(a.throw(l))}catch(_){s(_)}},n=l=>l.done?o(l.value):Promise.resolve(l.value).then(i,u);n((a=a.apply(e,t)).next())});const b="/api/method/pdf_suite.api";function r(o){return p(this,arguments,function*(e,t={},a="POST"){try{const s=`${b}.${e}`,i={method:a,headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":x()},credentials:"include"};if(a==="GET"){const l=new URLSearchParams;for(const[h,f]of Object.entries(t))l.set(h,typeof f=="object"?JSON.stringify(f):f);const _=l.toString()?`${s}?${l}`:s,d=yield(yield fetch(_,i)).json();return d.message||d}i.body=JSON.stringify(t);const n=yield(yield fetch(s,i)).json();return n.message||n}catch(s){return{success:!1,error:s.message||"Network error"}}})}function x(){const e=document.cookie.split(";").find(t=>t.trim().startsWith("csrf_token="));return e?e.split("=")[1]:""}function S(){return{getPdfInfo:e=>r("extract.get_pdf_info",{file_url:e}),extractText:(e,t)=>r("extract.extract_text",{file_url:e,page_numbers:t}),extractTables:(e,t)=>r("extract.extract_tables",{file_url:e,page_numbers:t}),extractImages:(e,t)=>r("extract.extract_images",{file_url:e,page_numbers:t}),mergePdfs:(e,t)=>r("merge.merge_pdfs",{file_urls:e,output_filename:t}),mergePdfsWithOptions:(e,t)=>r("merge.merge_pdfs_with_options",{file_configs:e,output_filename:t}),splitPdf:(e,t)=>r("split.split_pdf",{file_url:e,page_ranges:t}),splitEveryN:(e,t)=>r("split.split_pdf_every_n",{file_url:e,n:t}),extractPages:(e,t,a)=>r("split.extract_pages",{file_url:e,page_numbers:t,output_filename:a}),compressPdf:(e,t,a)=>r("compress.compress_pdf",{file_url:e,quality:t,output_filename:a}),addTextWatermark:(e,t)=>r("watermark.add_text_watermark",c({file_url:e},t)),addImageWatermark:(e,t)=>r("watermark.add_image_watermark",c({file_url:e},t)),encryptPdf:(e,t,a,o)=>r("protect.encrypt_pdf",{file_url:e,user_password:t,owner_password:a,output_filename:o}),decryptPdf:(e,t,a)=>r("protect.decrypt_pdf",{file_url:e,password:t,output_filename:a}),flattenPdf:(e,t)=>r("flatten.flatten_pdf",{file_url:e,output_filename:t}),redactAreas:(e,t,a)=>r("redact.redact_areas",{file_url:e,redactions:t,output_filename:a}),redactText:(e,t,a)=>r("redact.redact_text",{file_url:e,search_text:t,output_filename:a}),ocrPdf:(e,t,a)=>r("ocr.ocr_pdf",{file_url:e,language:t,output_filename:a}),ocrImage:(e,t)=>r("ocr.ocr_image_to_text",{file_url:e,language:t}),pdfToDocx:(e,t)=>r("convert.pdf_to_docx",{file_url:e,output_filename:t}),docxToPdf:(e,t)=>r("convert.docx_to_pdf",{file_url:e,output_filename:t}),htmlToPdf:(e,t)=>r("convert.html_to_pdf",{html_content:e,output_filename:t}),exportEdited:(e,t,a)=>r("document.export_edited_pdf",{file_url:e,text_modifications:t,output_filename:a}),saveSession:(e,t,a,o)=>r("document.save_edit_session",{file_url:e,annotations:t,page_modifications:a,session_name:o}),loadSession:e=>r("document.load_edit_session",{session_name:e}),listSessions:()=>r("document.list_edit_sessions",{},"GET"),saveTemplate:(e,t,a,o)=>r("template.save_template",{name:e,schema:t,base_pdf:a,description:o}),getTemplate:e=>r("template.get_template",{template_name:e},"GET"),listTemplates:()=>r("template.list_templates",{},"GET"),deleteTemplate:e=>r("template.delete_template",{template_name:e}),generateHtmlPdf:(e,t,a)=>r("template.generate_html_pdf",{template_name:e,variable_data:JSON.stringify(t),output_filename:a||""}),startBatch:(e,t,a)=>r("batch.start_batch",{operation:e,file_urls:t,options:a}),getBatchStatus:e=>r("batch.get_batch_status",{batch_name:e},"GET"),uploadFile:(e,t=1)=>p(this,null,function*(){var o;const a=new FormData;a.append("file",e),a.append("is_private",t),a.append("folder","Home");try{const i=yield(yield fetch("/api/method/upload_file",{method:"POST",headers:{"X-Frappe-CSRF-Token":x()},credentials:"include",body:a})).json();return(o=i.message)!=null&&o.file_url?{success:!0,data:{file_url:i.message.file_url,name:i.message.name}}:{success:!1,error:"Upload failed"}}catch(s){return{success:!1,error:s.message}}})}}export{S as u};
//# sourceMappingURL=usePdfApi-BXiAzpXu.js.map
