var h=(b,f,a)=>new Promise((u,i)=>{var r=o=>{try{p(a.next(o))}catch(v){i(v)}},l=o=>{try{p(a.throw(o))}catch(v){i(v)}},p=o=>o.done?u(o.value):Promise.resolve(o.value).then(r,l);p((a=a.apply(b,f)).next())});import{_ as C}from"./FileDropZone-BNRVS-bJ.js";import{u as F}from"./usePdfApi-BXiAzpXu.js";import{o as c,c as m,b as e,a as g,g as _,h as B,t as n,_ as P,F as z,r as D,p as y,d as w,aa as $,z as x}from"./vue-vendor-Cf1u-26_.js";const M={class:"max-w-3xl mx-auto px-6 py-12"},S={key:0,class:"mb-8"},N={key:1},V={class:"flex items-center gap-3 bg-white border border-gray-200 rounded-lg px-4 py-3 mb-6"},A={class:"flex-1 text-sm font-medium"},L={class:"text-xs text-gray-500"},R={class:"mb-6"},T={class:"flex gap-3"},j=["onClick"],E={class:"text-xs text-gray-500 mt-0.5"},G=["disabled"],H={key:0,class:"mt-3 text-sm text-red-600"},K={key:1,class:"mt-8 bg-green-50 border border-green-200 rounded-lg p-5"},O={class:"flex items-center justify-between mb-3"},X={class:"text-sm font-semibold text-green-700"},I={class:"flex items-center gap-6 text-sm text-gray-700"},J={class:"ml-1 font-medium"},Q={class:"ml-1 font-medium"},U=["href"],se={__name:"CompressPage",setup(b){const f=F(),a=x(null),u=x("medium"),i=x(!1),r=x(""),l=x(null),p=[{value:"high",label:"Low",desc:"Minimal compression"},{value:"medium",label:"Medium",desc:"Balanced"},{value:"low",label:"High",desc:"Max compression"}];function o(t){t.length>0&&(a.value=t[0])}function v(){return h(this,null,function*(){if(a.value){i.value=!0,r.value="",l.value=null;try{const t=yield f.uploadFile(a.value);if(!t.success){r.value=t.error;return}const s=yield f.compressPdf(t.data.file_url,u.value);s.success?l.value=s.data:r.value=s.error}catch(t){r.value=t.message}finally{i.value=!1}}})}function k(t){for(const s of["B","KB","MB","GB"]){if(t<1024)return`${t.toFixed(1)} ${s}`;t/=1024}return`${t.toFixed(1)} TB`}return(t,s)=>(c(),m("div",M,[s[5]||(s[5]=e("h1",{class:"text-2xl font-bold text-gray-900 mb-2"},"Compress PDF",-1)),s[6]||(s[6]=e("p",{class:"text-gray-600 mb-8"},"Reduce PDF file size while maintaining quality.",-1)),a.value?(c(),m("div",N,[e("div",V,[g(_(B),{class:"w-5 h-5 text-brand-500"}),e("span",A,n(a.value.name),1),e("span",L,n(k(a.value.size)),1),e("button",{onClick:s[0]||(s[0]=d=>{a.value=null,l.value=null}),class:"text-gray-400 hover:text-red-500"},[g(_(P),{class:"w-4 h-4"})])]),e("div",R,[s[1]||(s[1]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Compression level",-1)),e("div",T,[(c(),m(z,null,D(p,d=>e("button",{key:d.value,onClick:W=>u.value=d.value,class:y(["flex-1 px-4 py-3 rounded-lg border text-center",u.value===d.value?"bg-brand-50 border-brand-300":"border-gray-200 hover:border-gray-300"])},[e("p",{class:y(["font-medium text-sm",u.value===d.value?"text-brand-700":"text-gray-800"])},n(d.label),3),e("p",E,n(d.desc),1)],10,j)),64))])]),e("button",{onClick:v,disabled:i.value,class:"px-6 py-2.5 bg-brand-600 text-white rounded-lg hover:bg-brand-700 disabled:opacity-50 font-medium text-sm"},n(i.value?"Compressing...":"Compress PDF"),9,G),r.value?(c(),m("p",H,n(r.value),1)):w("",!0),l.value?(c(),m("div",K,[e("div",O,[s[2]||(s[2]=e("p",{class:"text-green-800 font-medium"},"Compression complete!",-1)),e("span",X,"-"+n(l.value.reduction_percent)+"%",1)]),e("div",I,[e("div",null,[s[3]||(s[3]=e("span",{class:"text-gray-500"},"Original:",-1)),e("span",J,n(l.value.original_size_human),1)]),g(_($),{class:"w-4 h-4 text-gray-400"}),e("div",null,[s[4]||(s[4]=e("span",{class:"text-gray-500"},"Compressed:",-1)),e("span",Q,n(l.value.compressed_size_human),1)])]),e("a",{href:l.value.file_url,download:"",class:"text-sm text-brand-600 hover:underline mt-3 inline-block"}," Download compressed PDF ",8,U)])):w("",!0)])):(c(),m("div",S,[g(C,{accept:".pdf",label:"Select a PDF to compress",onFilesSelected:o})]))]))}};export{se as default};
//# sourceMappingURL=CompressPage-lFrkj5TQ.js.map
