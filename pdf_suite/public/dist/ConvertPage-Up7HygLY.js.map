{"version":3,"file":"ConvertPage-Up7HygLY.js","sources":["../../../frontend/src/pages/ConvertPage.vue"],"sourcesContent":["<template>\r\n  <div class=\"max-w-3xl mx-auto px-6 py-12\">\r\n    <h1 class=\"text-2xl font-bold text-gray-900 mb-2\">Convert</h1>\r\n    <p class=\"text-gray-600 mb-8\">Convert between PDF and other formats.</p>\r\n\r\n    <!-- Conversion type -->\r\n    <div class=\"mb-6\">\r\n      <div class=\"flex gap-3\">\r\n        <button\r\n          v-for=\"mode in modes\"\r\n          :key=\"mode.value\"\r\n          @click=\"conversionMode = mode.value\"\r\n          class=\"px-4 py-2 rounded-lg text-sm border\"\r\n          :class=\"conversionMode === mode.value ? 'bg-brand-50 border-brand-300 text-brand-700' : 'border-gray-300'\"\r\n        >\r\n          {{ mode.label }}\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- File upload -->\r\n    <div v-if=\"!file\" class=\"mb-8\">\r\n      <FileDropZone\r\n        :accept=\"acceptType\"\r\n        :label=\"dropLabel\"\r\n        @files-selected=\"setFile\"\r\n      />\r\n    </div>\r\n\r\n    <div v-else>\r\n      <div class=\"flex items-center gap-3 bg-white border border-gray-200 rounded-lg px-4 py-3 mb-6\">\r\n        <FileText class=\"w-5 h-5 text-brand-500\" />\r\n        <span class=\"flex-1 text-sm font-medium\">{{ file.name }}</span>\r\n        <button @click=\"file = null; result = null\" class=\"text-gray-400 hover:text-red-500\">\r\n          <X class=\"w-4 h-4\" />\r\n        </button>\r\n      </div>\r\n\r\n      <button\r\n        @click=\"convert\"\r\n        :disabled=\"processing\"\r\n        class=\"px-6 py-2.5 bg-brand-600 text-white rounded-lg hover:bg-brand-700 disabled:opacity-50 font-medium text-sm\"\r\n      >\r\n        {{ processing ? 'Converting...' : 'Convert' }}\r\n      </button>\r\n\r\n      <p v-if=\"error\" class=\"mt-3 text-sm text-red-600\">{{ error }}</p>\r\n\r\n      <div v-if=\"result\" class=\"mt-8 bg-green-50 border border-green-200 rounded-lg p-4\">\r\n        <p class=\"text-green-800 font-medium\">Conversion complete!</p>\r\n        <a :href=\"result.file_url\" download class=\"text-sm text-brand-600 hover:underline mt-1 inline-block\">\r\n          Download {{ result.filename }}\r\n        </a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed } from 'vue'\r\nimport { FileText, X } from 'lucide-vue-next'\r\nimport FileDropZone from '@/components/shared/FileDropZone.vue'\r\nimport { usePdfApi } from '@/composables/usePdfApi'\r\n\r\nconst api = usePdfApi()\r\nconst conversionMode = ref('pdf-to-docx')\r\nconst file = ref(null)\r\nconst processing = ref(false)\r\nconst error = ref('')\r\nconst result = ref(null)\r\n\r\nconst modes = [\r\n  { value: 'pdf-to-docx', label: 'PDF to DOCX' },\r\n  { value: 'docx-to-pdf', label: 'DOCX to PDF' },\r\n]\r\n\r\nconst acceptType = computed(() => conversionMode.value === 'pdf-to-docx' ? '.pdf' : '.docx')\r\nconst dropLabel = computed(() => conversionMode.value === 'pdf-to-docx' ? 'Select a PDF file' : 'Select a DOCX file')\r\n\r\nfunction setFile(files) {\r\n  if (files.length > 0) file.value = files[0]\r\n}\r\n\r\nasync function convert() {\r\n  if (!file.value) return\r\n  processing.value = true\r\n  error.value = ''\r\n  result.value = null\r\n\r\n  try {\r\n    const upload = await api.uploadFile(file.value)\r\n    if (!upload.success) { error.value = upload.error; return }\r\n\r\n    let res\r\n    if (conversionMode.value === 'pdf-to-docx') {\r\n      res = await api.pdfToDocx(upload.data.file_url)\r\n    } else {\r\n      res = await api.docxToPdf(upload.data.file_url)\r\n    }\r\n\r\n    if (res.success) {\r\n      result.value = res.data\r\n    } else {\r\n      error.value = res.error\r\n    }\r\n  } catch (e) {\r\n    error.value = e.message\r\n  } finally {\r\n    processing.value = false\r\n  }\r\n}\r\n</script>\r\n"],"names":["api","usePdfApi","conversionMode","ref","file","processing","error","result","modes","acceptType","computed","dropLabel","setFile","files","convert","__async","upload","res","e","_openBlock","_createElementBlock","_hoisted_1","_cache","_createElementVNode","_hoisted_2","_hoisted_3","_Fragment","_renderList","mode","$event","_toDisplayString","_hoisted_4","_hoisted_6","_hoisted_7","_createVNode","_unref","FileText","_hoisted_8","X","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_5","FileDropZone"],"mappings":"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"}