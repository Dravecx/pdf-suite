{"version":3,"file":"TemplatePage-BA76Jmey.js","sources":["../../../frontend/src/pages/TemplatePage.vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen bg-gray-50\">\r\n    <div class=\"max-w-5xl mx-auto px-6 py-10\">\r\n\r\n      <!-- Header -->\r\n      <div class=\"flex items-center justify-between mb-8\">\r\n        <div>\r\n          <h1 class=\"text-2xl font-bold text-gray-900\">PDF Templates</h1>\r\n          <p class=\"text-gray-500 mt-1 text-sm\">Design reusable templates with variables and generate PDFs instantly.</p>\r\n        </div>\r\n        <button\r\n          @click=\"$router.push('/templates/new')\"\r\n          class=\"flex items-center gap-2 px-4 py-2.5 bg-orange-500 text-white rounded-xl hover:bg-orange-600 transition-colors shadow-sm font-medium\"\r\n        >\r\n          <Plus class=\"w-4 h-4\" />\r\n          New Template\r\n        </button>\r\n      </div>\r\n\r\n      <!-- Loading -->\r\n      <div v-if=\"loading\" class=\"flex justify-center py-16\">\r\n        <div class=\"w-8 h-8 border-2 border-orange-500 border-t-transparent rounded-full animate-spin\" />\r\n      </div>\r\n\r\n      <!-- Empty state -->\r\n      <div\r\n        v-else-if=\"templates.length === 0\"\r\n        class=\"text-center py-20 bg-white border border-gray-200 rounded-2xl\"\r\n      >\r\n        <div class=\"w-14 h-14 bg-orange-50 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n          <LayoutTemplate class=\"w-7 h-7 text-orange-500\" />\r\n        </div>\r\n        <p class=\"text-gray-700 font-medium\">No templates yet</p>\r\n        <p class=\"text-sm text-gray-400 mt-1 mb-5\">Create your first template to get started.</p>\r\n        <button\r\n          @click=\"$router.push('/templates/new')\"\r\n          class=\"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-sm\"\r\n        >\r\n          Create Template\r\n        </button>\r\n      </div>\r\n\r\n      <!-- Template grid -->\r\n      <div v-else class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n        <div\r\n          v-for=\"tmpl in templates\"\r\n          :key=\"tmpl.name\"\r\n          class=\"group bg-white border border-gray-200 rounded-2xl p-5 hover:border-orange-300 hover:shadow-md transition-all\"\r\n        >\r\n          <!-- Icon + name -->\r\n          <div class=\"flex items-start gap-3 mb-3\">\r\n            <div class=\"w-9 h-9 bg-orange-50 rounded-lg flex items-center justify-center flex-shrink-0\">\r\n              <FileText class=\"w-5 h-5 text-orange-500\" />\r\n            </div>\r\n            <div class=\"flex-1 min-w-0\">\r\n              <h3 class=\"font-semibold text-gray-900 truncate\">{{ tmpl.template_name }}</h3>\r\n              <p v-if=\"tmpl.description\" class=\"text-xs text-gray-500 mt-0.5 line-clamp-2\">\r\n                {{ tmpl.description }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Meta -->\r\n          <p class=\"text-xs text-gray-400 mb-4\">\r\n            Modified {{ formatDate(tmpl.modified) }}\r\n          </p>\r\n\r\n          <!-- Actions -->\r\n          <div class=\"flex gap-2\">\r\n            <button\r\n              @click=\"$router.push({ name: 'template-edit', params: { name: tmpl.name } })\"\r\n              class=\"flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 text-xs border border-gray-200 rounded-lg text-gray-700 hover:border-orange-300 hover:text-orange-700 transition-colors\"\r\n            >\r\n              <Pencil class=\"w-3.5 h-3.5\" />\r\n              Edit\r\n            </button>\r\n            <button\r\n              @click=\"$router.push({ name: 'template-generate', params: { name: tmpl.name } })\"\r\n              class=\"flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 text-xs bg-orange-50 border border-orange-200 rounded-lg text-orange-700 hover:bg-orange-100 transition-colors\"\r\n            >\r\n              <FileDown class=\"w-3.5 h-3.5\" />\r\n              Generate\r\n            </button>\r\n            <button\r\n              @click=\"confirmDelete(tmpl)\"\r\n              class=\"px-2.5 py-1.5 text-xs border border-gray-200 rounded-lg text-gray-400 hover:border-red-300 hover:text-red-500 transition-colors\"\r\n              title=\"Delete template\"\r\n            >\r\n              <Trash2 class=\"w-3.5 h-3.5\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <!-- Delete confirm modal -->\r\n    <div\r\n      v-if=\"deleteTarget\"\r\n      class=\"fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-4\"\r\n      @click.self=\"deleteTarget = null\"\r\n    >\r\n      <div class=\"bg-white rounded-2xl p-6 max-w-sm w-full shadow-xl\">\r\n        <h3 class=\"text-base font-semibold text-gray-900 mb-2\">Delete Template?</h3>\r\n        <p class=\"text-sm text-gray-600 mb-5\">\r\n          \"<strong>{{ deleteTarget.template_name }}</strong>\" will be permanently deleted.\r\n        </p>\r\n        <div class=\"flex gap-3\">\r\n          <button\r\n            @click=\"deleteTarget = null\"\r\n            class=\"flex-1 px-3 py-2 border border-gray-200 rounded-lg text-sm text-gray-700 hover:bg-gray-50\"\r\n          >Cancel</button>\r\n          <button\r\n            @click=\"doDelete\"\r\n            :disabled=\"deleting\"\r\n            class=\"flex-1 px-3 py-2 bg-red-500 text-white rounded-lg text-sm hover:bg-red-600 disabled:opacity-50\"\r\n          >{{ deleting ? 'Deletingâ€¦' : 'Delete' }}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\nimport { LayoutTemplate, Plus, FileText, Pencil, FileDown, Trash2 } from 'lucide-vue-next'\r\nimport { usePdfApi } from '@/composables/usePdfApi'\r\n\r\nconst api = usePdfApi()\r\nconst templates = ref([])\r\nconst loading = ref(true)\r\nconst deleteTarget = ref(null)\r\nconst deleting = ref(false)\r\n\r\nonMounted(() => loadTemplates())\r\n\r\nasync function loadTemplates() {\r\n  loading.value = true\r\n  try {\r\n    const res = await api.listTemplates()\r\n    if (res?.success) {\r\n      templates.value = res.data.templates || []\r\n    }\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\nfunction confirmDelete(tmpl) {\r\n  deleteTarget.value = tmpl\r\n}\r\n\r\nasync function doDelete() {\r\n  if (!deleteTarget.value) return\r\n  deleting.value = true\r\n  try {\r\n    const res = await api.deleteTemplate(deleteTarget.value.name)\r\n    if (res?.success) {\r\n      deleteTarget.value = null\r\n      await loadTemplates()\r\n    }\r\n  } finally {\r\n    deleting.value = false\r\n  }\r\n}\r\n\r\nfunction formatDate(dateStr) {\r\n  if (!dateStr) return ''\r\n  const d = new Date(dateStr)\r\n  return d.toLocaleDateString(undefined, { month: 'short', day: 'numeric', year: 'numeric' })\r\n}\r\n</script>\r\n"],"names":["api","usePdfApi","templates","ref","loading","deleteTarget","deleting","onMounted","loadTemplates","__async","res","confirmDelete","tmpl","doDelete","formatDate","dateStr","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_cache","$event","$router","_createVNode","_unref","Plus","_hoisted_4","_hoisted_5","_hoisted_6","LayoutTemplate","_hoisted_7","_Fragment","_renderList","_hoisted_8","_hoisted_9","FileText","_hoisted_10","_hoisted_11","_toDisplayString","_hoisted_12","_hoisted_13","_hoisted_14","Pencil","FileDown","Trash2","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21"],"mappings":"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"}