var V=(v,m,l)=>new Promise((a,u)=>{var y=n=>{try{p(l.next(n))}catch(i){u(i)}},_=n=>{try{p(l.throw(n))}catch(i){u(i)}},p=n=>n.done?a(n.value):Promise.resolve(n.value).then(y,_);p((l=l.apply(v,m)).next())});import{o as r,c as o,t as g,d as x,b as t,a as c,g as h,h as N,_ as P,p as k,F as S,r as $,U,V as B,a8 as E,z as b}from"./vue-vendor-Cf1u-26_.js";import{_ as z}from"./FileDropZone-BNRVS-bJ.js";import{u as A}from"./usePdfApi-BXiAzpXu.js";const I={key:0,class:"block text-sm font-medium text-gray-700 mb-1"},M=["value","placeholder"],C={__name:"PageRangeInput",props:{modelValue:{type:String,default:""},label:{type:String,default:""},placeholder:{type:String,default:""}},emits:["update:modelValue"],setup(v){return(m,l)=>(r(),o("div",null,[v.label?(r(),o("label",I,g(v.label),1)):x("",!0),t("input",{value:v.modelValue,onInput:l[0]||(l[0]=a=>m.$emit("update:modelValue",a.target.value)),type:"text",placeholder:v.placeholder||"e.g. 1-3, 5, 7-10",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-brand-500"},null,40,M),l[1]||(l[1]=t("p",{class:"text-xs text-gray-500 mt-1"},"Separate ranges with commas. Use dashes for ranges.",-1))]))}},T={class:"max-w-3xl mx-auto px-6 py-12"},L={key:0,class:"mb-8"},R={key:1},X={class:"flex items-center gap-3 bg-white border border-gray-200 rounded-lg px-4 py-3 mb-6"},j={class:"flex-1 text-sm font-medium"},q={class:"mb-6"},G={class:"flex gap-3"},H={key:0,class:"mb-6"},J=["onClick"],K={key:1,class:"mb-6"},O={key:2,class:"mb-6"},Q=["disabled"],W={key:3,class:"mt-3 text-sm text-red-600"},Y={key:4,class:"mt-8 space-y-2"},Z={class:"font-medium text-green-800 mb-2"},ee=["href"],te={class:"text-gray-400 ml-auto"},oe={__name:"SplitPage",setup(v){const m=A(),l=b(null),a=b("ranges"),u=b([""]),y=b(1),_=b(""),p=b(!1),n=b(""),i=b([]);function F(d){d.length>0&&(l.value=d[0])}function D(){return V(this,null,function*(){if(l.value){p.value=!0,n.value="",i.value=[];try{const d=yield m.uploadFile(l.value);if(!d.success){n.value=d.error;return}let e;a.value==="ranges"?e=yield m.splitPdf(d.data.file_url,u.value.filter(s=>s.trim())):a.value==="every"?e=yield m.splitEveryN(d.data.file_url,y.value):e=yield m.extractPages(d.data.file_url,_.value),e.success?i.value=e.data.files||[e.data]:n.value=e.error}catch(d){n.value=d.message}finally{p.value=!1}}})}return(d,e)=>(r(),o("div",T,[e[9]||(e[9]=t("h1",{class:"text-2xl font-bold text-gray-900 mb-2"},"Split PDF",-1)),e[10]||(e[10]=t("p",{class:"text-gray-600 mb-8"},"Split a PDF into multiple files by page ranges.",-1)),l.value?(r(),o("div",R,[t("div",X,[c(h(N),{class:"w-5 h-5 text-brand-500"}),t("span",j,g(l.value.name),1),t("button",{onClick:e[0]||(e[0]=s=>l.value=null),class:"text-gray-400 hover:text-red-500"},[c(h(P),{class:"w-4 h-4"})])]),t("div",q,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Split mode",-1)),t("div",G,[t("button",{onClick:e[1]||(e[1]=s=>a.value="ranges"),class:k(["px-4 py-2 rounded-lg text-sm border",a.value==="ranges"?"bg-brand-50 border-brand-300 text-brand-700":"border-gray-300"])}," By page ranges ",2),t("button",{onClick:e[2]||(e[2]=s=>a.value="every"),class:k(["px-4 py-2 rounded-lg text-sm border",a.value==="every"?"bg-brand-50 border-brand-300 text-brand-700":"border-gray-300"])}," Every N pages ",2),t("button",{onClick:e[3]||(e[3]=s=>a.value="extract"),class:k(["px-4 py-2 rounded-lg text-sm border",a.value==="extract"?"bg-brand-50 border-brand-300 text-brand-700":"border-gray-300"])}," Extract pages ",2)])]),a.value==="ranges"?(r(),o("div",H,[(r(!0),o(S,null,$(u.value,(s,f)=>(r(),o("div",{key:f,class:"flex items-center gap-2 mb-2"},[c(C,{modelValue:u.value[f],"onUpdate:modelValue":w=>u.value[f]=w,class:"flex-1"},null,8,["modelValue","onUpdate:modelValue"]),u.value.length>1?(r(),o("button",{key:0,onClick:w=>u.value.splice(f,1),class:"p-2 text-red-400 hover:text-red-600"},[c(h(P),{class:"w-4 h-4"})],8,J)):x("",!0)]))),128)),t("button",{onClick:e[4]||(e[4]=s=>u.value.push("")),class:"text-sm text-brand-600 hover:underline"}," + Add range ")])):x("",!0),a.value==="every"?(r(),o("div",K,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Pages per file",-1)),U(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>y.value=s),type:"number",min:"1",class:"w-32 px-3 py-2 border border-gray-300 rounded-lg text-sm"},null,512),[[B,y.value,void 0,{number:!0}]])])):x("",!0),a.value==="extract"?(r(),o("div",O,[c(C,{modelValue:_.value,"onUpdate:modelValue":e[6]||(e[6]=s=>_.value=s),label:"Pages to extract"},null,8,["modelValue"])])):x("",!0),t("button",{onClick:D,disabled:p.value,class:"px-6 py-2.5 bg-brand-600 text-white rounded-lg hover:bg-brand-700 disabled:opacity-50 font-medium text-sm"},g(p.value?"Processing...":"Split PDF"),9,Q),n.value?(r(),o("p",W,g(n.value),1)):x("",!0),i.value.length>0?(r(),o("div",Y,[t("p",Z,"Split complete! "+g(i.value.length)+" files created.",1),(r(!0),o(S,null,$(i.value,(s,f)=>(r(),o("a",{key:f,href:s.file_url,download:"",class:"flex items-center gap-2 bg-white border border-gray-200 rounded-lg px-4 py-2 hover:border-brand-300 text-sm"},[c(h(E),{class:"w-4 h-4 text-brand-500"}),t("span",null,g(s.filename),1),t("span",te,g(s.pages)+" pages",1)],8,ee))),128))])):x("",!0)])):(r(),o("div",L,[c(z,{accept:".pdf",label:"Select a PDF to split",onFilesSelected:F})]))]))}};export{oe as default};
//# sourceMappingURL=SplitPage-pFvTGLn1.js.map
