{"version":3,"file":"SplitPage-pFvTGLn1.js","sources":["../../../frontend/src/components/shared/PageRangeInput.vue","../../../frontend/src/pages/SplitPage.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <label v-if=\"label\" class=\"block text-sm font-medium text-gray-700 mb-1\">{{ label }}</label>\r\n    <input\r\n      :value=\"modelValue\"\r\n      @input=\"$emit('update:modelValue', $event.target.value)\"\r\n      type=\"text\"\r\n      :placeholder=\"placeholder || 'e.g. 1-3, 5, 7-10'\"\r\n      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-brand-500\"\r\n    />\r\n    <p class=\"text-xs text-gray-500 mt-1\">Separate ranges with commas. Use dashes for ranges.</p>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\ndefineProps({\r\n  modelValue: { type: String, default: '' },\r\n  label: { type: String, default: '' },\r\n  placeholder: { type: String, default: '' },\r\n})\r\n\r\ndefineEmits(['update:modelValue'])\r\n</script>\r\n","<template>\r\n  <div class=\"max-w-3xl mx-auto px-6 py-12\">\r\n    <h1 class=\"text-2xl font-bold text-gray-900 mb-2\">Split PDF</h1>\r\n    <p class=\"text-gray-600 mb-8\">Split a PDF into multiple files by page ranges.</p>\r\n\r\n    <!-- File upload -->\r\n    <div v-if=\"!file\" class=\"mb-8\">\r\n      <FileDropZone accept=\".pdf\" label=\"Select a PDF to split\" @files-selected=\"setFile\" />\r\n    </div>\r\n\r\n    <div v-else>\r\n      <!-- File info -->\r\n      <div class=\"flex items-center gap-3 bg-white border border-gray-200 rounded-lg px-4 py-3 mb-6\">\r\n        <FileText class=\"w-5 h-5 text-brand-500\" />\r\n        <span class=\"flex-1 text-sm font-medium\">{{ file.name }}</span>\r\n        <button @click=\"file = null\" class=\"text-gray-400 hover:text-red-500\">\r\n          <X class=\"w-4 h-4\" />\r\n        </button>\r\n      </div>\r\n\r\n      <!-- Split mode -->\r\n      <div class=\"mb-6\">\r\n        <label class=\"block text-sm font-medium text-gray-700 mb-2\">Split mode</label>\r\n        <div class=\"flex gap-3\">\r\n          <button\r\n            @click=\"splitMode = 'ranges'\"\r\n            class=\"px-4 py-2 rounded-lg text-sm border\"\r\n            :class=\"splitMode === 'ranges' ? 'bg-brand-50 border-brand-300 text-brand-700' : 'border-gray-300'\"\r\n          >\r\n            By page ranges\r\n          </button>\r\n          <button\r\n            @click=\"splitMode = 'every'\"\r\n            class=\"px-4 py-2 rounded-lg text-sm border\"\r\n            :class=\"splitMode === 'every' ? 'bg-brand-50 border-brand-300 text-brand-700' : 'border-gray-300'\"\r\n          >\r\n            Every N pages\r\n          </button>\r\n          <button\r\n            @click=\"splitMode = 'extract'\"\r\n            class=\"px-4 py-2 rounded-lg text-sm border\"\r\n            :class=\"splitMode === 'extract' ? 'bg-brand-50 border-brand-300 text-brand-700' : 'border-gray-300'\"\r\n          >\r\n            Extract pages\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Range inputs -->\r\n      <div v-if=\"splitMode === 'ranges'\" class=\"mb-6\">\r\n        <div v-for=\"(range, i) in ranges\" :key=\"i\" class=\"flex items-center gap-2 mb-2\">\r\n          <PageRangeInput v-model=\"ranges[i]\" class=\"flex-1\" />\r\n          <button v-if=\"ranges.length > 1\" @click=\"ranges.splice(i, 1)\" class=\"p-2 text-red-400 hover:text-red-600\">\r\n            <X class=\"w-4 h-4\" />\r\n          </button>\r\n        </div>\r\n        <button @click=\"ranges.push('')\" class=\"text-sm text-brand-600 hover:underline\">\r\n          + Add range\r\n        </button>\r\n      </div>\r\n\r\n      <div v-if=\"splitMode === 'every'\" class=\"mb-6\">\r\n        <label class=\"block text-sm font-medium text-gray-700 mb-1\">Pages per file</label>\r\n        <input v-model.number=\"everyN\" type=\"number\" min=\"1\" class=\"w-32 px-3 py-2 border border-gray-300 rounded-lg text-sm\" />\r\n      </div>\r\n\r\n      <div v-if=\"splitMode === 'extract'\" class=\"mb-6\">\r\n        <PageRangeInput v-model=\"extractPages\" label=\"Pages to extract\" />\r\n      </div>\r\n\r\n      <!-- Action -->\r\n      <button\r\n        @click=\"split\"\r\n        :disabled=\"processing\"\r\n        class=\"px-6 py-2.5 bg-brand-600 text-white rounded-lg hover:bg-brand-700 disabled:opacity-50 font-medium text-sm\"\r\n      >\r\n        {{ processing ? 'Processing...' : 'Split PDF' }}\r\n      </button>\r\n\r\n      <p v-if=\"error\" class=\"mt-3 text-sm text-red-600\">{{ error }}</p>\r\n\r\n      <!-- Results -->\r\n      <div v-if=\"results.length > 0\" class=\"mt-8 space-y-2\">\r\n        <p class=\"font-medium text-green-800 mb-2\">Split complete! {{ results.length }} files created.</p>\r\n        <a\r\n          v-for=\"(r, i) in results\"\r\n          :key=\"i\"\r\n          :href=\"r.file_url\"\r\n          download\r\n          class=\"flex items-center gap-2 bg-white border border-gray-200 rounded-lg px-4 py-2 hover:border-brand-300 text-sm\"\r\n        >\r\n          <Download class=\"w-4 h-4 text-brand-500\" />\r\n          <span>{{ r.filename }}</span>\r\n          <span class=\"text-gray-400 ml-auto\">{{ r.pages }} pages</span>\r\n        </a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport { FileText, X, Download } from 'lucide-vue-next'\r\nimport FileDropZone from '@/components/shared/FileDropZone.vue'\r\nimport PageRangeInput from '@/components/shared/PageRangeInput.vue'\r\nimport { usePdfApi } from '@/composables/usePdfApi'\r\n\r\nconst api = usePdfApi()\r\nconst file = ref(null)\r\nconst splitMode = ref('ranges')\r\nconst ranges = ref([''])\r\nconst everyN = ref(1)\r\nconst extractPages = ref('')\r\nconst processing = ref(false)\r\nconst error = ref('')\r\nconst results = ref([])\r\n\r\nfunction setFile(files) {\r\n  if (files.length > 0) file.value = files[0]\r\n}\r\n\r\nasync function split() {\r\n  if (!file.value) return\r\n\r\n  processing.value = true\r\n  error.value = ''\r\n  results.value = []\r\n\r\n  try {\r\n    // Upload file\r\n    const upload = await api.uploadFile(file.value)\r\n    if (!upload.success) {\r\n      error.value = upload.error\r\n      return\r\n    }\r\n\r\n    let result\r\n    if (splitMode.value === 'ranges') {\r\n      result = await api.splitPdf(upload.data.file_url, ranges.value.filter(r => r.trim()))\r\n    } else if (splitMode.value === 'every') {\r\n      result = await api.splitEveryN(upload.data.file_url, everyN.value)\r\n    } else {\r\n      result = await api.extractPages(upload.data.file_url, extractPages.value)\r\n    }\r\n\r\n    if (result.success) {\r\n      results.value = result.data.files || [result.data]\r\n    } else {\r\n      error.value = result.error\r\n    }\r\n  } catch (e) {\r\n    error.value = e.message\r\n  } finally {\r\n    processing.value = false\r\n  }\r\n}\r\n</script>\r\n"],"names":["_createElementBlock","__props","_hoisted_1","_toDisplayString","_createElementVNode","$emit","$event","_cache","api","usePdfApi","file","ref","splitMode","ranges","everyN","extractPages","processing","error","results","setFile","files","split","__async","upload","result","r","e","_openBlock","_hoisted_3","_hoisted_4","_createVNode","_unref","FileText","_hoisted_5","X","_hoisted_6","_hoisted_7","_normalizeClass","_hoisted_8","_Fragment","_renderList","range","i","PageRangeInput","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","Download","_hoisted_17","_hoisted_2","FileDropZone"],"mappings":"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"}