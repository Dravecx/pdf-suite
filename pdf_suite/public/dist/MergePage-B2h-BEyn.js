var F=(y,x,s)=>new Promise((m,o)=>{var r=l=>{try{p(s.next(l))}catch(f){o(f)}},n=l=>{try{p(s.throw(l))}catch(f){o(f)}},p=l=>l.done?m(l.value):Promise.resolve(l.value).then(r,n);p((s=s.apply(y,x)).next())});import{o as d,c,b as a,F as k,r as B,a as b,g as _,a9 as D,h as M,t as g,_ as P,d as h,U as $,V,z as v}from"./vue-vendor-Cf1u-26_.js";import{_ as C}from"./FileDropZone-BNRVS-bJ.js";import{u as N}from"./usePdfApi-BXiAzpXu.js";const z={class:"max-w-3xl mx-auto px-6 py-12"},S={key:0,class:"space-y-2 mb-6"},T={class:"flex-1 text-sm text-gray-800 truncate"},A={class:"text-xs text-gray-500"},G=["onClick"],R={class:"mb-6"},U={class:"flex items-center gap-3"},E=["disabled"],K={key:0,class:"text-sm text-red-600"},L={key:1,class:"mt-8 bg-green-50 border border-green-200 rounded-lg p-4"},O=["href"],I={__name:"MergePage",setup(y){const x=N(),s=v([]),m=v("merged.pdf"),o=v(!1),r=v(""),n=v(null);function p(t){s.value.push(...t)}function l(t){s.value.splice(t,1)}function f(){return F(this,null,function*(){if(!(s.value.length<2)){o.value=!0,r.value="",n.value=null;try{const t=[];for(const u of s.value){const i=yield x.uploadFile(u);if(!i.success){r.value=`Failed to upload ${u.name}: ${i.error}`;return}t.push(i.data.file_url)}const e=yield x.mergePdfs(t,m.value);e.success?n.value=e.data:r.value=e.error||"Merge failed"}catch(t){r.value=t.message||"Network error"}finally{o.value=!1}}})}function w(t){for(const e of["B","KB","MB","GB"]){if(t<1024)return`${t.toFixed(1)} ${e}`;t/=1024}return`${t.toFixed(1)} TB`}return(t,e)=>(d(),c("div",z,[e[3]||(e[3]=a("h1",{class:"text-2xl font-bold text-gray-900 mb-2"},"Merge PDFs",-1)),e[4]||(e[4]=a("p",{class:"text-gray-600 mb-8"},"Combine multiple PDF files into a single document.",-1)),s.value.length>0?(d(),c("div",S,[(d(!0),c(k,null,B(s.value,(u,i)=>(d(),c("div",{key:i,class:"flex items-center gap-3 bg-white border border-gray-200 rounded-lg px-4 py-3"},[b(_(D),{class:"w-4 h-4 text-gray-400 cursor-grab"}),b(_(M),{class:"w-5 h-5 text-brand-500"}),a("span",T,g(u.name),1),a("span",A,g(w(u.size)),1),a("button",{onClick:X=>l(i),class:"p-1 hover:bg-red-50 rounded text-red-400 hover:text-red-600"},[b(_(P),{class:"w-4 h-4"})],8,G)]))),128))])):h("",!0),b(C,{accept:".pdf",multiple:!0,label:"Add PDF files to merge",hint:"You can add multiple files. Drag to reorder.",onFilesSelected:p,class:"mb-8"}),a("div",R,[e[1]||(e[1]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Output filename",-1)),$(a("input",{"onUpdate:modelValue":e[0]||(e[0]=u=>m.value=u),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-brand-500",placeholder:"merged.pdf"},null,512),[[V,m.value]])]),a("div",U,[a("button",{onClick:f,disabled:s.value.length<2||o.value,class:"px-6 py-2.5 bg-brand-600 text-white rounded-lg hover:bg-brand-700 disabled:opacity-50 font-medium text-sm"},g(o.value?"Merging...":"Merge PDFs"),9,E),r.value?(d(),c("span",K,g(r.value),1)):h("",!0)]),n.value?(d(),c("div",L,[e[2]||(e[2]=a("p",{class:"text-green-800 font-medium"},"Merge complete!",-1)),a("a",{href:n.value.file_url,download:"",class:"text-sm text-brand-600 hover:underline mt-1 inline-block"}," Download "+g(n.value.filename),9,O)])):h("",!0)]))}};export{I as default};
//# sourceMappingURL=MergePage-B2h-BEyn.js.map
