var h=(w,f,n)=>new Promise((m,o)=>{var d=r=>{try{c(n.next(r))}catch(x){o(x)}},y=r=>{try{c(n.throw(r))}catch(x){o(x)}},c=r=>r.done?m(r.value):Promise.resolve(r.value).then(d,y);c((n=n.apply(w,f)).next())});import{s as C,o as l,c as i,b as t,a as u,g,ab as D,i as p,L as T,F as $,r as j,h as F,t as b,d as _,ac as N,ad as P,ae as L,a0 as V,z as v}from"./vue-vendor-Cf1u-26_.js";import{u as B}from"./usePdfApi-BXiAzpXu.js";const M={class:"min-h-screen bg-gray-50"},z={class:"max-w-5xl mx-auto px-6 py-10"},E={class:"flex items-center justify-between mb-8"},A={key:0,class:"flex justify-center py-16"},G={key:1,class:"text-center py-20 bg-white border border-gray-200 rounded-2xl"},S={class:"w-14 h-14 bg-orange-50 rounded-full flex items-center justify-center mx-auto mb-4"},q={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},H={class:"flex items-start gap-3 mb-3"},I={class:"w-9 h-9 bg-orange-50 rounded-lg flex items-center justify-center flex-shrink-0"},J={class:"flex-1 min-w-0"},K={class:"font-semibold text-gray-900 truncate"},O={key:0,class:"text-xs text-gray-500 mt-0.5 line-clamp-2"},Q={class:"text-xs text-gray-400 mb-4"},R={class:"flex gap-2"},U=["onClick"],W=["onClick"],X=["onClick"],Y={class:"bg-white rounded-2xl p-6 max-w-sm w-full shadow-xl"},Z={class:"text-sm text-gray-600 mb-5"},ee={class:"flex gap-3"},te=["disabled"],re={__name:"TemplatePage",setup(w){const f=B(),n=v([]),m=v(!0),o=v(null),d=v(!1);C(()=>y());function y(){return h(this,null,function*(){m.value=!0;try{const s=yield f.listTemplates();s!=null&&s.success&&(n.value=s.data.templates||[])}finally{m.value=!1}})}function c(s){o.value=s}function r(){return h(this,null,function*(){if(o.value){d.value=!0;try{const s=yield f.deleteTemplate(o.value.name);s!=null&&s.success&&(o.value=null,yield y())}finally{d.value=!1}}})}function x(s){return s?new Date(s).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}):""}return(s,e)=>(l(),i("div",M,[t("div",z,[t("div",E,[e[5]||(e[5]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900"},"PDF Templates"),t("p",{class:"text-gray-500 mt-1 text-sm"},"Design reusable templates with variables and generate PDFs instantly.")],-1)),t("button",{onClick:e[0]||(e[0]=a=>s.$router.push("/templates/new")),class:"flex items-center gap-2 px-4 py-2.5 bg-orange-500 text-white rounded-xl hover:bg-orange-600 transition-colors shadow-sm font-medium"},[u(g(D),{class:"w-4 h-4"}),e[4]||(e[4]=p(" New Template ",-1))])]),m.value?(l(),i("div",A,[...e[6]||(e[6]=[t("div",{class:"w-8 h-8 border-2 border-orange-500 border-t-transparent rounded-full animate-spin"},null,-1)])])):n.value.length===0?(l(),i("div",G,[t("div",S,[u(g(T),{class:"w-7 h-7 text-orange-500"})]),e[7]||(e[7]=t("p",{class:"text-gray-700 font-medium"},"No templates yet",-1)),e[8]||(e[8]=t("p",{class:"text-sm text-gray-400 mt-1 mb-5"},"Create your first template to get started.",-1)),t("button",{onClick:e[1]||(e[1]=a=>s.$router.push("/templates/new")),class:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-sm"}," Create Template ")])):(l(),i("div",q,[(l(!0),i($,null,j(n.value,a=>(l(),i("div",{key:a.name,class:"group bg-white border border-gray-200 rounded-2xl p-5 hover:border-orange-300 hover:shadow-md transition-all"},[t("div",H,[t("div",I,[u(g(F),{class:"w-5 h-5 text-orange-500"})]),t("div",J,[t("h3",K,b(a.template_name),1),a.description?(l(),i("p",O,b(a.description),1)):_("",!0)])]),t("p",Q," Modified "+b(x(a.modified)),1),t("div",R,[t("button",{onClick:k=>s.$router.push({name:"template-edit",params:{name:a.name}}),class:"flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 text-xs border border-gray-200 rounded-lg text-gray-700 hover:border-orange-300 hover:text-orange-700 transition-colors"},[u(g(N),{class:"w-3.5 h-3.5"}),e[9]||(e[9]=p(" Edit ",-1))],8,U),t("button",{onClick:k=>s.$router.push({name:"template-generate",params:{name:a.name}}),class:"flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 text-xs bg-orange-50 border border-orange-200 rounded-lg text-orange-700 hover:bg-orange-100 transition-colors"},[u(g(P),{class:"w-3.5 h-3.5"}),e[10]||(e[10]=p(" Generate ",-1))],8,W),t("button",{onClick:k=>c(a),class:"px-2.5 py-1.5 text-xs border border-gray-200 rounded-lg text-gray-400 hover:border-red-300 hover:text-red-500 transition-colors",title:"Delete template"},[u(g(L),{class:"w-3.5 h-3.5"})],8,X)])]))),128))]))]),o.value?(l(),i("div",{key:0,class:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-4",onClick:e[3]||(e[3]=V(a=>o.value=null,["self"]))},[t("div",Y,[e[13]||(e[13]=t("h3",{class:"text-base font-semibold text-gray-900 mb-2"},"Delete Template?",-1)),t("p",Z,[e[11]||(e[11]=p(' "',-1)),t("strong",null,b(o.value.template_name),1),e[12]||(e[12]=p('" will be permanently deleted. ',-1))]),t("div",ee,[t("button",{onClick:e[2]||(e[2]=a=>o.value=null),class:"flex-1 px-3 py-2 border border-gray-200 rounded-lg text-sm text-gray-700 hover:bg-gray-50"},"Cancel"),t("button",{onClick:r,disabled:d.value,class:"flex-1 px-3 py-2 bg-red-500 text-white rounded-lg text-sm hover:bg-red-600 disabled:opacity-50"},b(d.value?"Deletingâ€¦":"Delete"),9,te)])])])):_("",!0)]))}};export{re as default};
//# sourceMappingURL=TemplatePage-BA76Jmey.js.map
